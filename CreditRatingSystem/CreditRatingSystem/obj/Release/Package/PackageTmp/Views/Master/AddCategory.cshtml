
@model CreditRatingModel.Model.Master
@{
    //ViewBag.Title = "AddCategory";
    Layout = "~/Views/Shared/_LayoutMaster.cshtml";
}



<div class="row" style="height:50px">

        </div>
        
        <div class="container">
            <div class="panel panel-primary">
                <div class="panel-heading"> <label id="lblHeading" class="filter-col control-label labelHead">Financial Institution  Category Master</label>  </div>
                <div class="panel-body">
                     <fieldset class="scheduler-border">
                       @* <legend class="scheduler-border">
                            <label id="lblStreamMaster" class="filter-col control-label label2"> Stream Master</label>
                        </legend>*@
                         <br/>
                    <div class="row">
                         <div class="col-xs-4">
                                    </div>
                        <div class="col-xs-4">
                         @*   @Html.HiddenFor(model => model.Id)*@
                            <div class="form-group">
                                <label id="lblCategory" class="filter-col control-label label1">Category Name:</label>
                                @Html.TextBoxFor(modelItem => modelItem.CategoryName, new { @class = "form-control"})                                                           
                            </div>
                        </div>
                          <div class="col-xs-4">
                                    </div>
                    </div>
                                   </fieldset> 
                      <div class="row">
                                <div class="col-xs-5">
                                    </div>
                                    <div class="col-xs-4">
                                        @*<button id="btnSave" type="" name="save"  formmethod="post">Save</button>*@
                                        <input type="button" id="btnSave" value="Save" />
                                        
                                    </div>
                           <div class="col-xs-3">
                               @Html.HiddenFor(model => model.Id)

                                    </div>
                                </div>
                </div>
            </div>
            </div>



<script type="text/javascript" >

    $('#btnSave').click(function () {

        debugger;
        var CategoryId = $("#Id").val();
        if ($("#Id").val() == "") {
            CategoryId = 0;
        }
    var CategoryName=$("#CategoryName").val();
    debugger;
    $.ajax ({

        url: '/Master/AddCategory/',
        type :'POST',
        data: { CategoryId:CategoryId,CategoryName: CategoryName },
        success : function(data)
        {
            var a = JSON.stringify(data);
            if (CategoryId == "") {

                if (a == "true") {

                    alert('Record saved successfully!');
                    $("#CategoryName").val('');
                }
                else if (a == "false") {

                    alert('Financial Institution Category already Exits!');
                    $("#CategoryName").val("");
                }
                        
            }
            else {
                if (a == "true") {
                    alert('Record saved successfully!'); 
                    window.location.href ='/Master/ViewFinancialInstitutionCategory';  
                }
                else if (a == "false") {

                    alert('Financial Institution Category already Exits!');
                }

            }

        }
        
      });
   });
</script>

@*<h2>AddCategory</h2>*@
