@{
    ViewBag.Title = "List";
    var grid = new WebGrid(source: Model, canPage: true, rowsPerPage: 10);
    grid.Pager(WebGridPagerModes.All);
}

<h2>List of Users</h2>



<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Branch Relation Master</title>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="@Url.Content("~/Content/bootstrap.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/tabPanel.css")" rel="stylesheet" type="text/css" />
    @*<script src="~/Scripts/js/myjquery.js"></script>*@
    <script src="@Url.Content("~/Scripts/jquery-2.1.4.min.js")" type="text/javascript" ></script>
    <script src="@Url.Content("~/Scripts/js/myjquery.js")" type="text/javascript" ></script>
  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <style type="text/css">
    /*Here we will add css for style webgrid*/
    .webgrid-table {
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        font-size: 1.2em;
        width: 100%;
        display: table;
        border-collapse: separate;
        border: solid 1px #98BF21;
        background-color: white;
        box-sizing: border-box;
    }

        .webgrid-table td, th {
            border: 1px solid #98BF21;
            padding: 3px 7px 2px;
        }

    .webgrid-header {
        /*background-color: #A7C942;
        color: #FFFFFF;
        padding-bottom: 4px;
        padding-top: 5px;
        text-align: left;*/
        display:none ;
        visibility:hidden;
           
   
         
    }

    .webgrid-th {
        font-size: 1.2em;
    text-align: left;
    border: none 0px;
    padding-left: 0;
    }

    .webgrid-row-style {
       /*display: block;*/
  width: 50%;
  height: 34px;
  padding: 6px 12px ;
  font-size: 14px;
  line-height: 1.42857143;
  color: #555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
          box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
       -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
          transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    }

    .webgrid-alternating-row {
        background-color: #EAF2D3;
        padding: 3px 7px 2px;
    }

    .filterable {
        margin-top: 15px;
    }

        .filterable .panel-heading .pull-right {
            margin-top: -20px;
        }

        .filterable .filters input[disabled] {
            background-color: transparent;
            border: none;
            cursor: auto;
            box-shadow: none;
            padding: 0;
            height: auto;
        }

            .filterable .filters input[disabled]::-webkit-input-placeholder {
                color: #333;
            }

            .filterable .filters input[disabled]::-moz-placeholder {
                color: #333;
            }

            .filterable .filters input[disabled]:-ms-input-placeholder {
                color: #333;
            }
</style>
</head>

<body>
   @* <form method="post">
        <div id="grid">
            <div class="container">*@


                @*imp*@
               @* @using (Html.BeginForm("List", "user", FormMethod.Get))
                {
                    <b>Search By</b>
                    @Html.RadioButton("SearchBy", "Name", true)<text> Name </text>
                    @Html.RadioButton("SearchBy", "Category", true)<text> Category </text>
                    <br />
                    @Html.TextBox("Search")<input type="submit" value="Search" />
            
                }*@

<div class="container">
              <div class="row">
        <div class="panel panel-primary filterable">
            <div class="panel-heading">
                <h3 class="panel-title">Financial Institute</h3>
                <div class="pull-right">
                    <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span> Filter</button>
                </div>
            </div>
            <table class="table">
                <thead>
                    <tr class="filters" >
                        <td colspan="4">
                            <div class="row">
                             <div class="col-xs-1"><input type="text" class="form-control" placeholder="ID" disabled></div>
                            <div class="col-xs-4"><input type="text" class="form-control" placeholder="Category" disabled></div>
                            <div class="col-xs-3"><input type="text" class="form-control" placeholder="Create Date" disabled></div>
                            <div class="col-xs-3"><input type="text" class="form-control" placeholder="Edit Date" disabled></div>
                            <div class="col-xs-1"></div>
                                </div>
                        </td>
                        @*<th>
                            

                        </th>
                        <th></th>
                        <th></th>
                        <th>      </th>*@
                    </tr>
                </thead>
                <tbody>
                    @*<tr>
                        <td>1</td>
                        <td>Mark</td>
                        <td>Otto</td>
                        <td>mdo</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Jacob</td>
                        <td>Thornton</td>
                        <td>fat</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Larry</td>
                        <td>the Bird</td>
                        <td>twitter</td>
                    </tr>*@

                 @*    <tr class="filters">*@
                    @grid.GetHtml(
                         tableStyle: "table",
                          headerStyle: "webgrid-header",
                //footerStyle: "webgrid-footer",
                //alternatingRowStyle: "webgrid-alternating-row",
                                     //rowStyle: "webgrid-row-style",
                columns: grid.Columns(
                            //here i will add column for serial no
                            //grid.Column(columnName: "Date", format: (item) => Html.ActionLink(((string)item.Date), "Edit", new { id = item.id })),   
                            grid.Column(columnName: "Id"),
                    grid.Column(columnName: "Category"),
                    grid.Column(columnName: "CreateDate"),
                    grid.Column(columnName: "EditDate"),
                            //grid.Column("", header: "ToEdit", format: @<text>@Html.ActionLink("Edit", "Edit", "Person", new { target = "_blank" })</text>)))
                   grid.Column("", format: @<text>@Html.ActionLink("View", "ViewDetails1", "user", new { id = item.Id }, new { target = "_blank" })</text>)))

          @*  </tr>*@
                </tbody>
            </table>
        </div>
    </div>
</div>
            @*</div>   
            </div>

    </form>*@
</body>
<script type="text/javascript">
    $("#Country").change(function () {
        var countryid = $("#Country").val();
        //alert(countryid);
        var url = '@Url.Action("StateList", "FinancialInstituteMaster")';
            //alert(url);
            $.post(url, { CountryId: countryid }, function (data) {
                //alert(countryid);
                debugger;
                //alert(data);
                //$("#selState").html('');
                //$("#selState").append($("<option></option>").val(0).html('Select'));
                $("#selState").empty().append($("<option></option>").val(-1).html('Select'));

                $.each(data, function (Key, item) {
                    //alert(data.d);
                    //alert(Key);
                    //alert(item.Id);
                    //alert(item.State);

                    debugger;
                    $("#selState").append($("<option></option>").val(item.Value).html(item.Text));
                });
            });
        });
</script>

<script type="text/javascript">
    $(document).ready(function () {
        $('.filterable .btn-filter').click(function () {
            var $panel = $(this).parents('.filterable'),
            $filters = $panel.find('.filters input'),
            $tbody = $panel.find('.table tbody');
            if ($filters.prop('disabled') == true) {
                $filters.prop('disabled', false);
                $filters.first().focus();
            } else {
                $filters.val('').prop('disabled', true);
                $tbody.find('.no-result').remove();
                $tbody.find('tr').show();
            }
        });

        $('.filterable .filters input').keyup(function (e) {
            /* Ignore tab key */
            var code = e.keyCode || e.which;
            if (code == '9') return;
            /* Useful DOM data and selectors */
            var $input = $(this),
            inputContent = $input.val().toLowerCase(),
            $panel = $input.parents('.filterable'),
            column = $panel.find('.filters td').index($input.parents('td')),
            $table = $panel.find('.table'),
            $rows = $table.find('tbody tr');
            /* Dirtiest filter function ever ;) */
            var $filteredRows = $rows.filter(function () {
                var value = $(this).find('td').eq(column).text().toLowerCase();
                return value.indexOf(inputContent) === -1;
            });
            /* Clean previous no-result if exist */
            $table.find('tbody .no-result').remove();
            /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
            $rows.show();
            $filteredRows.hide();
            /* Prepend no-result row if all rows are filtered */
            if ($filteredRows.length === $rows.length) {
                $table.find('tbody').prepend($('<tr class="no-result text-center"><td colspan="' + $table.find('.filters td').length + '">No result found</td></tr>'));
            }
        });
    });
</script>

<script>
    $("#btnSearch").click(function () {
        $("#grid").css("display", "block");
    });
</script>

</html>
