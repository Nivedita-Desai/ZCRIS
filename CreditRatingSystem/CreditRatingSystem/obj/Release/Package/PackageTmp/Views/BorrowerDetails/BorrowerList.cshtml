


@{
    ViewBag.Title = "Borrower Details";
    var gridborrow = new WebGrid(Model);
    gridborrow.Pager(WebGridPagerModes.All);
    var grid = new WebGrid(ViewBag.List);
    grid.Pager(WebGridPagerModes.All);
    Layout = "~/Views/Shared/_LayoutMaster.cshtml";
}

@*<link href="@Url.Content("~/Content/bootstrap.css")" rel="stylesheet" type="text/css" />
@*<link href="@Url.Content("~/Content/tabPanel.css")" rel="stylesheet" type="text/css" />*@
@*<script src="~/Scripts/js/myjquery.js"></script>*@
@*<script src="@Url.Content("~/Scripts/jquery-2.1.4.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/js/myjquery.js")" type="text/javascript"></script>*@

<style type="text/css">
    /*Here we will add css for style webgrid*/
    .webgrid-table {
        /*font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;*/
        /*font-size: 1.2em;
        width:50%;
        display: table;
        /*border-collapse: separate;*/
        /*background-color: white;*/
    }

    /*.webgrid-table td, th {
            border: 1px solid #98BF21;
            padding: 3px 7px 2px;
        }*/

    .webgrid-header {
        display: none;
        visibility: hidden;
    }

    .webgrid-hide {
        /*visibility:hidden;*/
        display: none;
    }

    .form-style-10 {
        width: 1200px;
        padding: 30px;
        margin: 40px auto;
        background: #FFF;
        border-radius: 10px;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
        -moz-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
        -webkit-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.13);
    }

        .form-style-10 h1 {
            background: #2A88AD;
            padding: 20px 30px 15px 30px;
            margin: -30px -30px 30px -30px;
            border-radius: 10px 10px 0 0;
            -webkit-border-radius: 10px 10px 0 0;
            -moz-border-radius: 10px 10px 0 0;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.12);
            font: normal 30px 'Bitter', serif;
            -moz-box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            -webkit-box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            box-shadow: inset 0px 2px 2px 0px rgba(255, 255, 255, 0.17);
            border: 1px solid #257C9E;
        }

    .webgridHSize {
        position: inherit;
    }

    .webgrid-row-style {
        text-align: center;
    }

    .webgrid-fixColumn {
        text-align: left;
        width: 345px;
    }

    .filterable {
        margin-top: 15px;
    }

        .filterable .panel-heading .pull-right {
            margin-top: -20px;
        }

        .filterable .filters input[disabled] {
            background-color: transparent;
            border: none;
            cursor: auto;
            box-shadow: none;
            padding: 0;
            height: auto;
            /*width:50%;*/
        }

            .filterable .filters input[disabled]::-webkit-input-placeholder {
                color: #333;
            }

            .filterable .filters input[disabled]::-moz-placeholder {
                color: #333;
            }

            .filterable .filters input[disabled]:-ms-input-placeholder {
                color: #333;
            }
</style>

 <div class="container">
         <div class="panel panel-primary">
                <div class="panel-heading"> <label id="lblHeading" class="filter-col control-label labelHead">Loan Disburse Details </label>  </div>
                <div class="panel-body">
<div id="tabs">
    <div class="tabbable-panel">
        <div class="tabbable-line">
            <ul class="nav nav-tabs">

                <li >
                    <a href="#tabs-1" data-toggle="tab" style="font-size: small; color: #000000; font-weight: bold" class="active">Borrower Company Details</a>
                </li>
                <li>
                    <a href="#tabs-2" data-toggle="tab" style="font-size: small; color: #000000; font-weight: bold">Borrower Customer Details</a>
                </li>
            </ul>
            <div class="tab-content">
                <div id="tabs-1" class="tab-pane active">
                    <div class="container">
                        <div class="row">
                            <div class="panel panel-primary filterable">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Borrower Details</h3>
                                    <div class="pull-right">
                                        <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span>Filter</button>
                                    </div>
                                </div>
                                <div class="panel panel-primary" style=" overflow:auto;height:500px">
                                <table class="table">
                                    <thead>
                                        <tr class="filters">
                                            <th width="108px" class="GridHeadStyle">
                                                <input type="text" class="form-control" placeholder="Company Name" disabled>
                                            </th>
                                            <th width="100px" class="GridHeadStyle">
                                                <input type="text" class="form-control" placeholder="Sub Division Name" disabled>
                                            </th>
                                            <th width="90px" class="GridHeadStyle">
                                                <input type="text" class="form-control" placeholder="Branch Name" disabled>
                                            </th>
                                            <th width="80px" class="GridHeadStyle">
                                                <input type="text" class="form-control" placeholder="Incorporation Date" disabled>
                                            </th>
                                            <th width="85px" class="GridHeadStyle">
                                                <input type="text" class="form-control" placeholder="Commencement Date" disabled>
                                            </th>

                                            @*<th class="GridHeadStyle"> <input type="text" class="form-control" placeholder="Organization" disabled> </th>
                                    <th class="GridHeadStyle"> <input type="text" class="form-control" placeholder="Company Name" disabled> </th>
                                    <th class="GridHeadStyle"> <input type="text" class="form-control" placeholder="Branch Name"  disabled> </th>
                                    <th class="GridHeadStyle"> <input type="text" class="form-control" placeholder="Incorporation Date" disabled> </th>
                                    <t@h class="GridHeadStyle"> <input type="text" class="form-control" placeholder="Commencement Date" disabled> </th>  *@


                                            <th width="10px" class="GridHeadStyle">
                                                <input type="hidden" class=" form-control" disabled>
                                            </th>
                                            <th width="45px" class="GridHeadStyle"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="filters">


                                            @gridborrow.GetHtml(
                            tableStyle: "table",
                            headerStyle: "webgrid-header",
                            footerStyle: "webgrid-footer",


                            columns: gridborrow.Columns(
                                                    //add columns headings for grid
                                gridborrow.Column(columnName: "CompanyName", header: "Organization", style: "GridCellStyle"),
                                gridborrow.Column(columnName: "CompanyType", header: "Company Name", style: "GridCellStyle"),
                                gridborrow.Column(columnName: "BranchName", header: "Branch Name", style: "GridCellStyle"),

                                gridborrow.Column("Incorporation Date", format: item => ((item.IncorporationDate == null) ? "" : item.IncorporationDate.ToString("dd/MMM/yyyy")), style: "GridCellStyle"),
                                gridborrow.Column("Commencement Date", format: item => ((item.CommencementDate == null) ? "" : item.CommencementDate.ToString("dd/MMM/yyyy")), style: "GridCellStyle"),

                                         gridborrow.Column(columnName: "Id", style: "webgrid-hide"),

                                //Added View button. after clicking on it will open another form
                                gridborrow.Column("", format: @<text>@Html.ActionLink("View", "BorrowerViewList", "BorrowerDetails", new { id = item.Id }, new { target = "_blank" })</text>)))
                                        </tr>
                                    </tbody>
                                </table>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tabs-2" class="tab-pane">
                    <div class="container">
                        @*<h1>Borrower Individual Details</h1>*@
                        <div class="row">
                            <div class="panel panel-primary filterable">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Individual Details</h3>
                                    <div class="pull-right">
                                        <button class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span>Filter</button>
                                    </div>
                                </div>
                                <div class="panel panel-primary" style=" overflow:auto;height:500px">
                                <table class="table">
                                    <thead>
                                        <tr class="filters">
                                            <th width="85px">
                                                <input type="text" class="form-control" placeholder="PanCard No." disabled>
                                            </th>
                                            <th width="75px">
                                                <input type="text" class="form-control" placeholder="First Name" disabled>
                                            </th>
                                            <th width="75px">
                                                <input type="text" class="form-control" placeholder="Middle Name" disabled>
                                            </th>
                                            <th width="75px">
                                                <input type="text" class="form-control" placeholder="Last Name" disabled>
                                            </th>
                                            <th width="85px">
                                                <input type="text" class="form-control" placeholder="Date Of Birth" disabled>
                                            </th>
                                            <th width="85px">
                                                <input type="text" class="form-control" placeholder="Nationality" disabled>
                                            </th>
                                            <th width="15px">
                                                <input type="hidden" class=" form-control" disabled>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="filters">




                                            @grid.GetHtml(
                tableStyle: "table",
                headerStyle: "webgrid-header",
                         footerStyle: "webgrid-footer",
                                                    //alternatingRowStyle: "webgrid-alternating-row",
                                                    //rowStyle: "webgrid-row-style",
                columns: grid.Columns(
                                                    //here i will add column for serial no
                                                    //grid.Column(columnName: "Date", format: (item) => Html.ActionLink(((string)item.Date), "Edit", new { id = item.id })),
                                                    //grid.Column(columnName:"Id", header:"ID", format: (item) => (item.Id)),
                                                    //grid.Column(columnName: "Pan", style: "webgrid-fixColumn"),
                     grid.Column(columnName: "Pan", style: "webgrid-fixColumn"),
                                                    //grid.Column(columnName: "FirstName",style:"webgrid-fixColumn"),
                     grid.Column(columnName: "FirstName", style: "webgrid-fixColumn"),
                     grid.Column(columnName: "MiddleName", style: "webgrid-fixColumn"),
                     grid.Column(columnName: "LastName", style: "webgrid-fixColumn"),
                              grid.Column(columnName: "DateOfBirth", format: item => ((item.DateOfBirth == null) ? "" : item.DateOfBirth.ToString("dd/MMM/yyyy")), style: "webgrid-fixColumn"),
                     grid.Column(columnName: "Nationality", style: "webgrid-fixColumn"),
                                       grid.Column(columnName: "Id", style: "webgrid-hide"),
                  grid.Column("", format: @<text>@Html.ActionLink("View", "Details", "BorrowerDetails", new { id = item.Id }, new { target = "_blank" })</text>)))

                                        </tr>
                                    </tbody>
                                </table>
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
             </div>
     </div>
<script type="text/javascript">
    $("#btnSearch").change(function () {
        var url = '@Url.Action("SearchList", "BorrowerDetails")';
    });
</script>

<script type="text/javascript">
    $(document).ready(function () {
        $('.filterable .btn-filter').click(function () {
            var $panel = $(this).parents('.filterable'),
            $filters = $panel.find('.filters input'),
            $tbody = $panel.find('.table tbody');
            if ($filters.prop('disabled') == true) {
                $filters.prop('disabled', false);
                $filters.first().focus();
            }
            else {
                $filters.val('').prop('disabled', true);
                $tbody.find('.no-result').remove();
                $tbody.find('tr').show();
            }
        });

        $('.filterable .filters input').keyup(function (e) {
            /* Ignore tab key */
            var code = e.keyCode || e.which;
            if (code == '9') return;
            /* Useful DOM data and selectors */
            var $input = $(this),
            inputContent = $input.val().toLowerCase(),
            $panel = $input.parents('.filterable'),
            column = $panel.find('.filters th').index($input.parents('th')),
            $table = $panel.find('.table'),
            $rows = $table.find('tbody tr');
            /* Dirtiest filter function ever ;) */
            var $filteredRows = $rows.filter(function () {
                var value = $(this).find('td').eq(column).text().toLowerCase();
                return value.indexOf(inputContent) === -1;
            });
            /* Clean previous no-result if exist */
            $table.find('tbody .no-result').remove();
            /* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
            $rows.show();
            $filteredRows.hide();
            /* Prepend no-result row if all rows are filtered */
            if ($filteredRows.length === $rows.length) {
                $table.find('tbody').prepend($('<tr class="no-result text-center"><td colspan="' + $table.find('.filters th').length + '">No result found</td></tr>'));
            }
        });
    });
</script>




